---
name: Standalone Package CI

on:
  workflow_call:
    inputs:
      pixi-environment:
        description: "The PIXI environment to use (default, quality, dev, ci)"
        required: false
        type: string
        default: 'ci'
      python-versions:
        description: "JSON array of Python versions for the test matrix"
        required: false
        type: string
        default: '["3.10", "3.11", "3.12"]'
      os-matrix:
        description: "JSON array of OS for the test matrix"
        required: false
        type: string
        default: '["ubuntu-latest", "macos-latest"]'
    secrets:
      CODECOV_TOKEN:
        required: false
      PYPI_API_TOKEN:
        required: false

jobs:
  call-reusable-workflow:
    uses: ./.github/workflows/reusable-ci.yml
    with:
      pixi-environment: ${{ inputs.pixi-environment }}
      python-versions: ${{ inputs.python-versions }}
      os-matrix: ${{ inputs.os-matrix }}
      package-path: '.'
    secrets: inherit
